unit U_recebimento_venda;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants,
  System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.ExtCtrls, Vcl.StdCtrls, Vcl.Mask,
  Vcl.DBCtrls, Vcl.Buttons;

type
  TFrm_recebimento_venda = class(TForm)
    Panel1: TPanel;
    RG_forma_pgto: TRadioGroup;
    Label3: TLabel;
    db_forma_pgto: TDBEdit;
    db_descricao: TDBEdit;
    Label9: TLabel;
    db_parcela: TDBEdit;
    db_valor: TDBEdit;
    Label6: TLabel;
    db_valor_pago: TDBEdit;
    db_troco: TDBEdit;
    Label1: TLabel;
    Label2: TLabel;
    bt_ok: TBitBtn;
    bt_imprimir: TBitBtn;
    procedure RG_forma_pgtoClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Frm_recebimento_venda: TFrm_recebimento_venda;

implementation

{$R *.dfm}

uses U_venda;

procedure TFrm_recebimento_venda.RG_forma_pgtoClick(Sender: TObject);
begin
Frm_venda.Q_padrao.edit;
  case RG_forma_pgto.ItemIndex of
    0: // a vista
      begin
        Frm_venda.Q_padraoID_FORMA_PGTO.AsInteger := 1;
        Frm_venda.Q_padraoPARCELA.AsInteger := 1;
        db_valor_pago.SetFocus;
      end;

    1:
      begin
        Frm_venda.Q_padraoID_FORMA_PGTO.AsInteger := 2;
        db_parcela.SetFocus;
        Frm_venda.Q_padraoDINHEIRO.AsFloat := Frm_venda.Q_padraoVALOR.AsFloat;
        Frm_venda.Q_padraoTROCO.AsFloat := 0;

      end;

    2: // cartao de debito
      begin
        Frm_venda.Q_padraoID_FORMA_PGTO.AsInteger := 3;
        Frm_venda.Q_padraoPARCELA.AsInteger := 1;
        Frm_venda.Q_padraoDINHEIRO.AsFloat := Frm_venda.Q_padraoVALOR.AsFloat;
        Frm_venda.Q_padraoTROCO.AsFloat := 0;
      end;

    3: // nota promissoria
      begin
        Frm_venda.Q_padraoID_FORMA_PGTO.AsInteger := 4;
        db_parcela.SetFocus;
        Frm_venda.Q_padraoDINHEIRO.AsFloat:=0;
        Frm_venda.Q_padraoTROCO.AsFloat := 0;
      end;

  end;
end;

end.
